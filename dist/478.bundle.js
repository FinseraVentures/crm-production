/*! For license information please see 478.bundle.js.LICENSE.txt */
"use strict";exports.id=478,exports.ids=[478],exports.modules={478:(t,n,r)=>{r.r(n);var e=r(703),o=r(246);function i(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function c(r,e,o,i){var c=e&&e.prototype instanceof f?e:f,l=Object.create(c.prototype);return a(l,"_invoke",function(r,e,o){var i,a,c,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(n,r){return i=n,a=0,c=t,p.n=r,u}};function d(r,e){for(a=r,c=e,n=0;!s&&f&&!o&&n<l.length;n++){var o,i=l[n],d=p.p,y=i[2];r>3?(o=y===e)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=r<2&&d<i[1])?(a=0,p.v=e,p.n=i[1]):d<y&&(o=r<3||i[0]>e||e>y)&&(i[4]=r,i[5]=e,p.n=y,a=0))}if(o||r>1)return u;throw s=!0,e}return function(o,l,y){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&d(l,y),a=l,c=y;(n=a<2?t:c)||!s;){i||(a?a<3?(a>1&&(p.n=-1),d(a,c)):p.n=c:p.v=c);try{if(f=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(s=p.n<0)?c:r.call(e,p))!==u)break}catch(n){i=t,a=1,c=n}finally{f=1}}return{value:n,done:s}}}(r,o,i),!0),l}var u={};function f(){}function l(){}function s(){}n=Object.getPrototypeOf;var p=[][e]?n(n([][e]())):(a(n={},e,function(){return this}),n),d=s.prototype=f.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,a(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=s,a(d,"constructor",s),a(s,"constructor",l),l.displayName="GeneratorFunction",a(s,o,"GeneratorFunction"),a(d),a(d,o,"Generator"),a(d,e,function(){return this}),a(d,"toString",function(){return"[object Generator]"}),(i=function(){return{w:c,m:y}})()}function a(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,n,r,e){function i(n,r){a(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},a(t,n,r,e)}function c(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return u(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function f(t,n,r,e,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?n(u):Promise.resolve(u).then(e,o)}function l(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function a(t){f(i,e,o,a,c,"next",t)}function c(t){f(i,e,o,a,c,"throw",t)}a(void 0)})}}e.schedule("*/60 * * * *",l(i().m(function t(){var n,r,e,a,u,f,l,s,p;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return console.log("üßπ Cron Job: Checking for duplicate leads..."),t.p=1,t.n=2,o.A.find({});case 2:n=t.v,r=new Map,e=[],a=c(n);try{for(a.s();!(u=a.n()).done;)f=u.value,l="".concat(f.email||"","-").concat(f.phoneNumber||"").trim(),r.has(l)?e.push(f._id):r.set(l,!0)}catch(t){a.e(t)}finally{a.f()}if(!(e.length>0)){t.n=4;break}return t.n=3,o.A.deleteMany({_id:{$in:e}});case 3:s=t.v,console.log("üóëÔ∏è Deleted ".concat(s.deletedCount," duplicate leads.")),t.n=5;break;case 4:console.log("‚úÖ No duplicate leads found.");case 5:t.n=7;break;case 6:t.p=6,p=t.v,console.error("‚ùå Error deleting duplicate leads:",p);case 7:return t.a(2)}},t,null,[[1,6]])})))}};